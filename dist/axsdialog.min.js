/*! axsdialog - v0.0.1 - 2015-06-08
* https://github.com/karlgroves/axsdialog
* Copyright (c) 2015 Karl Groves; Licensed MIT */
"use strict";var axsdialog={hideEm:function(){for(var a=0;a<this.dLength;a++)this.dialogChildren[a].classList.add("in_axs_dialog");for(var b=0;b<this.cLength;++b)"none"===this.couldFocus[b].style.display||this.couldFocus[b].classList.contains("in_axs_dialog")||(this.couldFocus[b].setAttribute("tabindex","-1"),this.couldFocus[b].setAttribute("aria-hidden","true"),this.couldFocus[b].classList.add("axs_hidden_by_modal"))},unHideEm:function(){for(var a=document.querySelectorAll(".axs_hidden_by_modal"),b=a.length,c=0;b>c;++c)a[c].setAttribute("tabindex","0"),a[c].setAttribute("aria-hidden","false"),a[c].classList.remove("axs_hidden_by_modal")},open:function(a){this.overlay=document.createElement("div"),this.overlay.setAttribute("class","axs_overlay"),this.dialogParent.insertBefore(this.overlay,this.theDialog),this.hideEm(),this.theDialog.classList.remove("axs_hidden"),this.theDialog.classList.add("axs_dialog_wrapper"),this.theDialog.setAttribute("tabindex","-1"),this.theDialog.setAttribute("role",this.role),this.theDialog.setAttribute("aria-labelledby","dLabel"),"undefined"==typeof a?document.querySelector("#"+this.dialogElement+" "+this.focusable).focus():document.getElementById(a).focus()},close:function(a){"undefined"==typeof a&&(a=this.opener),this.unHideEm(),this.overlay.remove(),this.theDialog.classList.add("axs_hidden"),document.getElementById(a).focus()},init:function(a){console.log("BAZ"),this.focusable='a[href], area, button, select, textarea, *[tabindex="0"], input:not([type="hidden"])',this.role=a.role,this.opener=a.opener,this.closer=a.closer,this.dialogElement=a.dialogElement,this.dialogOpener=document.getElementById(this.opener),this.dialogCloser=document.getElementById(this.closer),this.theDialog=document.getElementById(this.dialogElement),this.theDialog.classList.add("axs_hidden"),this.dialogParent=this.theDialog.parentNode,this.couldFocus=document.querySelectorAll(this.focusable),this.cLength=this.couldFocus.length,this.dialogChildren=document.querySelectorAll("#"+this.dialogElement+" *"),this.dLength=this.dialogChildren.length,this.dialogOpener.addEventListener("click",function(){axsdialog.open()},!1),this.dialogOpener.addEventListener("keydown",function(a){var b=a.charCode||a.keyCode;"keydown"===a.type&&(32===b||13===b)&&(a.preventDefault(),axsdialog.open())},!1),this.dialogCloser.setAttribute("role","button"),this.dialogCloser.setAttribute("aria-label","Close Dialog"),this.dialogCloser.addEventListener("click",function(){axsdialog.close()},!1),this.dialogCloser.addEventListener("keydown",function(a){var b=a.charCode||a.keyCode;"keydown"===a.type&&(32===b||13===b)&&(a.preventDefault(),axsdialog.close())},!1),document.onkeydown=function(a){axsdialog.theDialog.classList.contains("axs_hidden")||27===a.keyCode&&axsdialog.close()}}};